(function(_0x1b640a,_0x56e493){const _0x36a74a=_0x188d,_0x2c7135=_0x1b640a();while(!![]){try{const _0x4c5cec=parseInt(_0x36a74a(0x1b1))/0x1*(-parseInt(_0x36a74a(0x1af))/0x2)+parseInt(_0x36a74a(0x1b3))/0x3*(parseInt(_0x36a74a(0x1c5))/0x4)+-parseInt(_0x36a74a(0x1bb))/0x5+parseInt(_0x36a74a(0x1b7))/0x6*(parseInt(_0x36a74a(0x1c3))/0x7)+parseInt(_0x36a74a(0x1c7))/0x8*(parseInt(_0x36a74a(0x1b5))/0x9)+-parseInt(_0x36a74a(0x1be))/0xa*(-parseInt(_0x36a74a(0x1a8))/0xb)+parseInt(_0x36a74a(0x1c1))/0xc*(parseInt(_0x36a74a(0x1a7))/0xd);if(_0x4c5cec===_0x56e493)break;else _0x2c7135['push'](_0x2c7135['shift']());}catch(_0x9ad986){_0x2c7135['push'](_0x2c7135['shift']());}}}(_0x49d3,0x4a509));function _0x188d(_0x2fd02e,_0x75f7f9){const _0x49d30f=_0x49d3();return _0x188d=function(_0x188d55,_0x30db40){_0x188d55=_0x188d55-0x1a5;let _0xfc0320=_0x49d30f[_0x188d55];return _0xfc0320;},_0x188d(_0x2fd02e,_0x75f7f9);}function _0x49d3(){const _0x3d7b7e=['div','21DOYXSd','_create_buffer','24uegvFX','fromPixels','3354808vPUsWo','set','HEAP8','2587CIzovS','18007whIQFQ','catch','width','cannot\x20get\x20alpha\x20mask\x20due\x20to\x20','data','then','toPixels','21134zqPLgM','log','43EJqyox','Input\x20has\x20a\x20problem,\x20please\x20re-check','83766vAQxev','browser','9MAevBK','scalar','141402YTJhUt','Cannot\x20get\x20alpha\x20mask\x20without\x20error\x20notification','_destroy_buffer','Cannot\x20get\x20alpha\x20mask\x20due\x20to\x20','2743190LBqwHr','_replaceBackground','height','3470CKHltR','_get_buffer_size','erode','4932QJpuJW'];_0x49d3=function(){return _0x3d7b7e;};return _0x49d3();}import*as _0x5b4f1f from'@tensorflow/tfjs';import{MergeBlending,psy_seg_get_alpha_internal}from'./Common.js';export async function OverlayBackgroundGPU(_0x4f3d42,_0x21cadc,_0x52cfcd,_0x4a4dea,_0x6cc161,_0x10bb79,_0x24c76a=null){const _0xe9c2dc=_0x188d;let _0x100a30=![],_0x37b9d6=null,_0x46d20a=null,_0x2d7d10=null;try{_0x21cadc[_0xe9c2dc(0x1ac)]!==null&&_0x52cfcd[_0xe9c2dc(0x1ac)]!==null?await psy_seg_get_alpha_internal(_0x4f3d42,_0x21cadc,_0x4a4dea,_0x6cc161)[_0xe9c2dc(0x1ad)](async _0x43aa4e=>{const _0x166876=_0xe9c2dc;if(_0x43aa4e){_0x37b9d6=await _0x5b4f1f['browser']['fromPixels'](_0x21cadc[_0x166876(0x1ac)])['div'](_0x5b4f1f[_0x166876(0x1b6)](0xff)),_0x46d20a=await _0x5b4f1f[_0x166876(0x1b4)][_0x166876(0x1c6)](_0x52cfcd[_0x166876(0x1ac)])[_0x166876(0x1c2)](_0x5b4f1f[_0x166876(0x1b6)](0xff)),_0x2d7d10=await _0x5b4f1f[_0x166876(0x1b4)][_0x166876(0x1c6)](_0x6cc161[_0x166876(0x1ac)])['div'](_0x5b4f1f[_0x166876(0x1b6)](0xff));const _0x1a8afb=MergeBlending(_0x37b9d6,_0x46d20a,_0x2d7d10);let _0xe60c0=await _0x5b4f1f['browser'][_0x166876(0x1ae)](_0x1a8afb);_0x10bb79[_0x166876(0x1ac)]=new ImageData(_0xe60c0,_0x52cfcd[_0x166876(0x1aa)],_0x52cfcd['height']),_0x100a30=!![];}else console[_0x166876(0x1b0)]('Cannot\x20get\x20alpha\x20mask\x20without\x20error\x20notification');})[_0xe9c2dc(0x1a9)](_0x5055ec=>{const _0x89b608=_0xe9c2dc;console[_0x89b608(0x1b0)]('cannot\x20get\x20alpha\x20mask\x20due\x20to\x20'+_0x5055ec);}):console[_0xe9c2dc(0x1b0)](_0xe9c2dc(0x1b2));}catch(_0x3fe978){console['log'](_0xe9c2dc(0x1ba)+_0x3fe978);}return _0x100a30;}export async function OverlayBackgroundWASM(_0xd4ca4d,_0x2312c9,_0x821beb,_0x1b68ee,_0x1f7b94,_0x3c66ea,_0x39ae7e,_0x55332a){const _0x50d8d7=_0x188d;let _0x3c64b6=![],_0x4a86b3,_0x5a358d,_0x1c051a,_0x483c93=null,_0x40dc66=null,_0x43c639=null,_0x29b79a=null,_0x42a861=null,_0x55d212=null;try{_0x2312c9[_0x50d8d7(0x1ac)]!==null&&_0x821beb[_0x50d8d7(0x1ac)]!==null?await psy_seg_get_alpha_internal(_0xd4ca4d,_0x2312c9,_0x1b68ee,_0x1f7b94)['then'](async _0x3782fd=>{const _0x1f39e1=_0x50d8d7;if(_0x3782fd){_0x3c64b6=!![];let _0x9e2a53=0x1;_0x55332a!==null&&(_0x55332a[_0x1f39e1(0x1c0)]>=0x1&&(_0x9e2a53=0x2*_0x55332a[_0x1f39e1(0x1c0)]-0x1));_0x1c051a=_0x2312c9[_0x1f39e1(0x1ac)]['data'],_0x4a86b3=_0x821beb[_0x1f39e1(0x1ac)][_0x1f39e1(0x1ac)],_0x5a358d=_0x1f7b94[_0x1f39e1(0x1ac)][_0x1f39e1(0x1ac)];!_0x483c93&&(_0x40dc66=Module[_0x1f39e1(0x1bf)](_0x2312c9[_0x1f39e1(0x1aa)],_0x2312c9['height']),_0x483c93=Module[_0x1f39e1(0x1c4)](_0x40dc66));!_0x43c639&&(_0x29b79a=Module[_0x1f39e1(0x1bf)](_0x821beb[_0x1f39e1(0x1aa)],_0x821beb[_0x1f39e1(0x1bd)]),_0x43c639=Module[_0x1f39e1(0x1c4)](_0x29b79a));!_0x42a861&&(_0x55d212=Module[_0x1f39e1(0x1bf)](_0x1f7b94[_0x1f39e1(0x1aa)],_0x1f7b94[_0x1f39e1(0x1bd)]),_0x42a861=Module[_0x1f39e1(0x1c4)](_0x55d212));Module[_0x1f39e1(0x1a6)]['set'](_0x1c051a,_0x483c93),Module[_0x1f39e1(0x1a6)][_0x1f39e1(0x1a5)](_0x4a86b3,_0x43c639),Module['HEAP8'][_0x1f39e1(0x1a5)](_0x5a358d,_0x42a861);_0x39ae7e==='tflite'?Module['_replaceBackgroundLite'](_0x483c93,_0x43c639,_0x42a861,_0x2312c9['width'],_0x2312c9['height'],_0x1f7b94[_0x1f39e1(0x1aa)],_0x1f7b94[_0x1f39e1(0x1bd)],_0x9e2a53):Module[_0x1f39e1(0x1bc)](_0x483c93,_0x43c639,_0x42a861,_0x2312c9[_0x1f39e1(0x1aa)],_0x2312c9[_0x1f39e1(0x1bd)]);let _0x579660=new Uint8ClampedArray(new Uint8Array(Module['HEAP8']['buffer'],_0x483c93,_0x40dc66)),_0x56721b=new ImageData(_0x579660,_0x2312c9[_0x1f39e1(0x1aa)],_0x2312c9[_0x1f39e1(0x1bd)]);_0x3c66ea['data']=_0x56721b,Module['_destroy_buffer'](_0x483c93),Module[_0x1f39e1(0x1b9)](_0x43c639),Module['_destroy_buffer'](_0x42a861);}else console['log'](_0x1f39e1(0x1b8));})['catch'](_0x24555b=>{const _0xda485=_0x50d8d7;console['log'](_0xda485(0x1ab)+_0x24555b);}):console[_0x50d8d7(0x1b0)](_0x50d8d7(0x1b2));}catch(_0x2a0c73){console[_0x50d8d7(0x1b0)]('Cannot\x20get\x20alpha\x20mask\x20due\x20to\x20'+_0x2a0c73);}return _0x3c64b6;}