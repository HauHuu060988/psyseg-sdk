function _0x595e(){const _0x42113f=['clearRect','release','COLOR_SPACE_RGBA','11930264TjiemJ','fgCanvasContext','endScope','catch','11412pOrLXV','COLOR_SPACE_RGB','use\x20strict','log','model','tidy','getImageData','colorHeight','scalar','39426pRzRou','canvas','width','colorWidth','data','runUE','SmartEyes','putImageData','div','6640KsJSqP','engine','4514536tLUoMZ','12kRaasp','createElement','height','getContext','2lTYekF','415AKbbDD','fgCanvas','canvasContext','Cannot\x20get\x20alpha\x20mask\x20due\x20to\x20','tflite','3gcrHaJ','startScope','backend','toPixels','Cannot\x20get\x20alpha\x20effects\x20due\x20to\x20','9249427ydvwMI','then','9921786TgWTlk','2.1.0','846511EcCYxy'];_0x595e=function(){return _0x42113f;};return _0x595e();}const _0xc25483=_0x37ba;(function(_0x3f3bcc,_0xd8f8f4){const _0x4a3d67=_0x37ba,_0x13ce8d=_0x3f3bcc();while(!![]){try{const _0x1bb139=parseInt(_0x4a3d67(0x1b8))/0x1*(-parseInt(_0x4a3d67(0x1a9))/0x2)+parseInt(_0x4a3d67(0x1af))/0x3*(parseInt(_0x4a3d67(0x1a4))/0x4)+-parseInt(_0x4a3d67(0x1aa))/0x5*(-parseInt(_0x4a3d67(0x1c9))/0x6)+parseInt(_0x4a3d67(0x1b6))/0x7+-parseInt(_0x4a3d67(0x1bc))/0x8+parseInt(_0x4a3d67(0x1c0))/0x9*(parseInt(_0x4a3d67(0x1a2))/0xa)+parseInt(_0x4a3d67(0x1b4))/0xb*(-parseInt(_0x4a3d67(0x1a5))/0xc);if(_0x1bb139===_0xd8f8f4)break;else _0x13ce8d['push'](_0x13ce8d['shift']());}catch(_0x47f50a){_0x13ce8d['push'](_0x13ce8d['shift']());}}}(_0x595e,0xb8426));import*as _0x115315 from'@tensorflow/tfjs';import{SmartEyes}from'./ML/ML.js';import{preProcessing}from'./Preprocessing/Preprocessing.js';import{psy_seg_overlay_background_internal,psy_seg_blur_background_internal,psy_seg_remove_background_internal}from'./Effects/Effects.js';import{psy_seg_get_alpha_internal}from'./Effects/Common.js';import{refine}from'./Refinement/Refinement.js';_0xc25483(0x1c2);export function ColorSpaceType(){return{'COLOR_SPACE_RGBA':0x0,'COLOR_SPACE_BGR':0x1,'COLOR_SPACE_RGB':0x2,'COLOR_SPACE_NV21':0x3,'COLOR_SPACE_NV12':0x4,'COLOR_SPACE_I420':0x5,'COLOR_SPACE_YUY2':0x6};};export function PsySegSetupInfo(_0x437d68,_0x1ba704){return{'colorWidth':_0x437d68,'colorHeight':_0x1ba704};};export function PsySegExtraParams(_0x24e2d3=0x1){return{'erode':_0x24e2d3};}export function PsySegBuf(_0x2a9a3d,_0x22f4f5,_0x373f02,_0xdee3be){return{'width':_0x2a9a3d,'height':_0x22f4f5,'channels':_0x373f02,'data':_0xdee3be};};class PsySeg{constructor(_0x42636f,_0x49e74b){const _0x517ff0=_0xc25483;this['width']=_0x42636f[_0x517ff0(0x1cc)],this[_0x517ff0(0x1a7)]=_0x42636f[_0x517ff0(0x1c7)],this['backend']=_0x49e74b,this[_0x517ff0(0x1ca)]=document[_0x517ff0(0x1a6)](_0x517ff0(0x1ca)),this['canvas'][_0x517ff0(0x1cb)]=this[_0x517ff0(0x1cb)],this[_0x517ff0(0x1ca)][_0x517ff0(0x1a7)]=this[_0x517ff0(0x1a7)],this[_0x517ff0(0x1ac)]=this[_0x517ff0(0x1ca)][_0x517ff0(0x1a8)]('2d'),this[_0x517ff0(0x1ab)]=document[_0x517ff0(0x1a6)](_0x517ff0(0x1ca)),this[_0x517ff0(0x1ab)]['width']=this[_0x517ff0(0x1cb)],this[_0x517ff0(0x1ab)][_0x517ff0(0x1a7)]=this[_0x517ff0(0x1a7)],this[_0x517ff0(0x1bd)]=this[_0x517ff0(0x1ab)]['getContext']('2d'),this[_0x517ff0(0x19f)]=null,this['SmartEyes']=new SmartEyes(this[_0x517ff0(0x1b1)]),this[_0x517ff0(0x1ce)]=this['runUE']['bind'](this);}async['runUE'](_0x42fbfa,_0x55c745,_0x167046,_0x268ff3=![]){const _0x2c8278=_0xc25483;let _0x4a689e=![],_0x29ed06=null;_0x4a689e=![];const _0x48fbd7=this[_0x2c8278(0x1b1)]==='tflite'?0xa0:0xc0,_0x29e22b=this[_0x2c8278(0x1b1)]==='tflite'?0x60:0xc0;let _0x2be9ce={'width':_0x48fbd7,'height':_0x29e22b};return await this['SmartEyes']['run'](_0x42fbfa,_0x167046,_0x268ff3)[_0x2c8278(0x1b5)](async _0x157632=>{const _0x539fdb=_0x2c8278;if(this[_0x539fdb(0x1b1)]===_0x539fdb(0x1ae))_0x55c745[_0x539fdb(0x1cd)]=_0x157632,_0x55c745['width']=_0x2be9ce[_0x539fdb(0x1cb)],_0x55c745[_0x539fdb(0x1a7)]=_0x2be9ce['height'];else{_0x29ed06=_0x115315[_0x539fdb(0x1c5)](()=>{const _0x5d666c=_0x539fdb;return refine(_0x157632[_0x5d666c(0x1a1)](_0x115315[_0x5d666c(0x1c8)](0xff)),_0x2be9ce)['reshape']([_0x29e22b,_0x48fbd7,0x1]);});let _0x195ede=await _0x115315['browser'][_0x539fdb(0x1b2)](_0x29ed06),_0x4b1ee6=new ImageData(_0x195ede,_0x48fbd7,_0x29e22b),_0x334f21=await preProcessing(_0x4b1ee6,_0x167046,{'width':_0x2be9ce[_0x539fdb(0x1cb)],'height':_0x2be9ce['height']},ColorSpaceType[_0x539fdb(0x1bb)],{'width':_0x42fbfa[_0x539fdb(0x1cb)],'height':_0x42fbfa[_0x539fdb(0x1a7)]});_0x55c745[_0x539fdb(0x1cd)]=new ImageData(_0x334f21,_0x42fbfa[_0x539fdb(0x1cb)],_0x42fbfa[_0x539fdb(0x1a7)]),_0x55c745['width']=_0x42fbfa[_0x539fdb(0x1cb)],_0x55c745[_0x539fdb(0x1a7)]=_0x42fbfa[_0x539fdb(0x1a7)];}_0x4a689e=!![];})['catch'](_0x398bd9=>{const _0x326e4f=_0x2c8278;console[_0x326e4f(0x1c3)](_0x326e4f(0x1ad)+_0x398bd9);}),_0x4a689e;}}export async function psy_seg_create(_0x295fb4){return new PsySeg(_0x295fb4,'tflite');}function _0x37ba(_0x59ac53,_0x367c64){const _0x595ef8=_0x595e();return _0x37ba=function(_0x37ba66,_0x5f5c61){_0x37ba66=_0x37ba66-0x19f;let _0x1a15d0=_0x595ef8[_0x37ba66];return _0x1a15d0;},_0x37ba(_0x59ac53,_0x367c64);}export async function psy_seg_create_internal(_0x37d588,_0x123b22='tflite'){return new PsySeg(_0x37d588,_0x123b22);}export async function psy_seg_destroy(_0x586106){const _0x25e665=_0xc25483;_0x586106[_0x25e665(0x1b1)]!==_0x25e665(0x1ae)&&_0x586106[_0x25e665(0x19f)][_0x25e665(0x1ba)](),delete _0x586106[_0x25e665(0x1b1)],delete _0x586106['width'],delete _0x586106[_0x25e665(0x1a7)],delete _0x586106['runUE'],delete _0x586106[_0x25e665(0x19f)];}export async function psy_seg_create_background(_0x1e95cc,_0x1ecd44,_0x1d0d9c,_0x56900b){const _0x44792b=_0xc25483;let _0x4c8a43=null;return await preProcessing(_0x1e95cc,_0x1ecd44,_0x1d0d9c,ColorSpaceType()[_0x44792b(0x1c1)],_0x56900b)[_0x44792b(0x1b5)](_0x4f3d95=>{_0x4c8a43=_0x4f3d95;})[_0x44792b(0x1bf)](_0x490917=>{const _0x3790c1=_0x44792b;console[_0x3790c1(0x1c3)]('Cannot\x20create\x20background\x20due\x20to\x20'+_0x490917);}),PsySegBuf(_0x56900b[_0x44792b(0x1cb)],_0x56900b[_0x44792b(0x1a7)],0x4,_0x4c8a43);}export async function psy_seg_get_alpha(_0xaa618e,_0x55939e,_0x4f04a5,_0x190e75){const _0xbb55df=_0xc25483;let _0x310297=![];_0x115315[_0xbb55df(0x1a3)]()['startScope']();_0xaa618e[_0xbb55df(0x19f)][_0xbb55df(0x1c4)]!==null&&await psy_seg_get_alpha_internal(_0xaa618e,_0x55939e,_0x4f04a5,_0x190e75,!![])[_0xbb55df(0x1b5)](_0x14b312=>{_0x310297=_0x14b312;})['catch'](_0xd3018c=>{const _0x5b3f5f=_0xbb55df;console[_0x5b3f5f(0x1c3)](_0x5b3f5f(0x1b3)+_0xd3018c);});if(_0xaa618e[_0xbb55df(0x1b1)]===_0xbb55df(0x1ae)){let _0x21aed5=await preProcessing(_0x190e75['data'],_0x4f04a5,{'width':_0x190e75[_0xbb55df(0x1cb)],'height':_0x190e75['height']},ColorSpaceType[_0xbb55df(0x1bb)],{'width':_0x55939e['width'],'height':_0x55939e['height']});_0x190e75[_0xbb55df(0x1cd)]=new ImageData(_0x21aed5,_0x55939e[_0xbb55df(0x1cb)],_0x55939e[_0xbb55df(0x1a7)]),_0x190e75[_0xbb55df(0x1cb)]=_0x55939e['width'],_0x190e75[_0xbb55df(0x1a7)]=_0x55939e[_0xbb55df(0x1a7)];}return _0x115315['engine']()[_0xbb55df(0x1be)](),_0x310297;}export async function psy_seg_overlay_background(_0x97c4bd,_0x2204ff,_0x3f41d7,_0x53a080,_0x3e82b9){const _0x2d66b4=_0xc25483;let _0x5c9872=![];_0x115315['engine']()['startScope']();const _0x4013c2=_0x97c4bd[_0x2d66b4(0x1b1)]==='tflite'?0xa0:0xc0,_0x51f699=_0x97c4bd[_0x2d66b4(0x1b1)]===_0x2d66b4(0x1ae)?0x60:0xc0;let _0x554b81=PsySegBuf(_0x4013c2,_0x51f699,0x4,null);return _0x97c4bd[_0x2d66b4(0x19f)][_0x2d66b4(0x1c4)]!==null&&await psy_seg_overlay_background_internal(_0x97c4bd,_0x2204ff,_0x3f41d7,_0x53a080,_0x554b81,_0x3e82b9)[_0x2d66b4(0x1b5)](_0x1d2b30=>{_0x5c9872=_0x1d2b30;})['catch'](_0x4d4989=>{}),_0x115315['engine']()[_0x2d66b4(0x1be)](),_0x5c9872;}export async function psy_seg_overlay_background_new(_0x25f8d2,_0x55bccb,_0xe340c9,_0x4d0e36,_0x2aef00,_0x312098=null){const _0x291d62=_0xc25483;_0x115315[_0x291d62(0x1a3)]()[_0x291d62(0x1b0)]();const _0x475985=_0x25f8d2[_0x291d62(0x1b1)]===_0x291d62(0x1ae)?0xa0:0xc0,_0x201512=_0x25f8d2['backend']===_0x291d62(0x1ae)?0x60:0xc0;let _0x1be1a4=PsySegBuf(_0x475985,_0x201512,0x4,null);const _0x573983=await psy_seg_remove_background_with_extra_params(_0x25f8d2,_0x55bccb,_0x4d0e36,_0x2aef00,_0x312098);return _0x25f8d2['canvasContext'][_0x291d62(0x1a0)](_0xe340c9[_0x291d62(0x1cd)],0x0,0x0),_0x25f8d2['fgCanvasContext'][_0x291d62(0x1b9)](0x0,0x0,_0x25f8d2[_0x291d62(0x1cb)],_0x25f8d2[_0x291d62(0x1a7)]),_0x25f8d2['fgCanvasContext'][_0x291d62(0x1a0)](_0x2aef00[_0x291d62(0x1cd)],0x0,0x0),_0x25f8d2[_0x291d62(0x1ac)]['drawImage'](_0x25f8d2[_0x291d62(0x1ab)],0x0,0x0),_0x2aef00[_0x291d62(0x1cd)]=_0x25f8d2['canvasContext'][_0x291d62(0x1c6)](0x0,0x0,_0x25f8d2[_0x291d62(0x1cb)],_0x25f8d2[_0x291d62(0x1a7)]),_0x115315[_0x291d62(0x1a3)]()['endScope'](),_0x573983;}export async function psy_seg_overlay_background_with_extra_params(_0x18d4b4,_0x4bed75,_0x1f358a,_0x2a2a25,_0x18a3b8,_0x458bc7=null){const _0x11492d=_0xc25483;let _0x583eb9=![];_0x115315[_0x11492d(0x1a3)]()[_0x11492d(0x1b0)]();const _0x5d5538=_0x18d4b4['backend']===_0x11492d(0x1ae)?0xa0:0xc0,_0x19e544=_0x18d4b4['backend']===_0x11492d(0x1ae)?0x60:0xc0;let _0x16d183=PsySegBuf(_0x5d5538,_0x19e544,0x4,null);return _0x18d4b4[_0x11492d(0x19f)][_0x11492d(0x1c4)]!==null&&await psy_seg_overlay_background_internal(_0x18d4b4,_0x4bed75,_0x1f358a,_0x2a2a25,_0x16d183,_0x18a3b8,_0x458bc7)[_0x11492d(0x1b5)](_0x13286b=>{_0x583eb9=_0x13286b;})[_0x11492d(0x1bf)](_0x555a16=>{}),_0x115315['engine']()[_0x11492d(0x1be)](),_0x583eb9;}export async function psy_seg_blur_background(_0x5b789c,_0x547346,_0x19269c,_0x365eb1,_0x4f09c9=0x9){const _0x51705c=_0xc25483;let _0x5da775=![];_0x115315[_0x51705c(0x1a3)]()[_0x51705c(0x1b0)]();const _0x50c6b4=_0x5b789c[_0x51705c(0x1b1)]===_0x51705c(0x1ae)?0xa0:0xc0,_0x1ba708=_0x5b789c[_0x51705c(0x1b1)]==='tflite'?0x60:0xc0;let _0x39f8a9=PsySegBuf(_0x50c6b4,_0x1ba708,0x4,null);return _0x5b789c[_0x51705c(0x19f)][_0x51705c(0x1c4)]!==null&&await psy_seg_blur_background_internal(_0x5b789c,_0x547346,_0x19269c,_0x39f8a9,_0x365eb1,_0x4f09c9)[_0x51705c(0x1b5)](_0x1f4ff9=>{_0x5da775=_0x1f4ff9;})['catch'](_0x108fc3=>{}),_0x115315['engine']()[_0x51705c(0x1be)](),_0x5da775;}export async function psy_seg_blur_background_with_extra_params(_0x30d189,_0xb43ed5,_0x2b814e,_0x51197d,_0x404928,_0x370085=null){const _0x348901=_0xc25483;let _0x28170a=![];_0x115315['engine']()[_0x348901(0x1b0)]();const _0x9ac03f=_0x30d189['backend']==='tflite'?0xa0:0xc0,_0x2b2d9c=_0x30d189['backend']===_0x348901(0x1ae)?0x60:0xc0;let _0x2aa61b=PsySegBuf(_0x9ac03f,_0x2b2d9c,0x4,null);return _0x30d189['SmartEyes']['model']!==null&&await psy_seg_blur_background_internal(_0x30d189,_0xb43ed5,_0x2b814e,_0x2aa61b,_0x51197d,_0x404928,_0x370085)['then'](_0x165348=>{_0x28170a=_0x165348;})[_0x348901(0x1bf)](_0x7a5b13=>{}),_0x115315[_0x348901(0x1a3)]()[_0x348901(0x1be)](),_0x28170a;}export async function psy_seg_remove_background(_0x174742,_0x395c9d,_0x442d5a,_0x96190a){const _0x25ed4d=_0xc25483;if(!_0x174742[_0x25ed4d(0x19f)][_0x25ed4d(0x1c4)])return;_0x115315[_0x25ed4d(0x1a3)]()[_0x25ed4d(0x1b0)]();const _0x340620=_0x174742[_0x25ed4d(0x1b1)]===_0x25ed4d(0x1ae)?0xa0:0xc0,_0x40b5e4=_0x174742[_0x25ed4d(0x1b1)]==='tflite'?0x60:0xc0;let _0x3e99d2=PsySegBuf(_0x340620,_0x40b5e4,0x4,null);const _0x5c6180=await psy_seg_remove_background_internal(_0x174742,_0x395c9d,_0x442d5a,_0x3e99d2,_0x96190a);return _0x115315[_0x25ed4d(0x1a3)]()[_0x25ed4d(0x1be)](),_0x5c6180;}export async function psy_seg_remove_background_with_extra_params(_0x2d1ae9,_0x465beb,_0x15ad93,_0x489b2f,_0x133f3b=null){const _0x4f051a=_0xc25483;if(!_0x2d1ae9[_0x4f051a(0x19f)][_0x4f051a(0x1c4)])return;_0x115315[_0x4f051a(0x1a3)]()[_0x4f051a(0x1b0)]();const _0x2e5d0a=_0x2d1ae9[_0x4f051a(0x1b1)]===_0x4f051a(0x1ae)?0xa0:0xc0,_0x3fbb5c=_0x2d1ae9[_0x4f051a(0x1b1)]===_0x4f051a(0x1ae)?0x60:0xc0;let _0x2ef8ef=PsySegBuf(_0x2e5d0a,_0x3fbb5c,0x4,null);const _0x58be43=await psy_seg_remove_background_internal(_0x2d1ae9,_0x465beb,_0x15ad93,_0x2ef8ef,_0x489b2f,_0x133f3b);return _0x115315['engine']()[_0x4f051a(0x1be)](),_0x58be43;}export const getVersion=()=>{const _0x24380b=_0xc25483;return _0x24380b(0x1b7);};